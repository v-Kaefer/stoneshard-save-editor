<includeonly>{| class="stoneshard sortable fixed-layout cell-hover center" width="{{{width|100%}}}"
{{#if: {{{town|}}}|! colspan="8" {{!}} [[{{{town|}}}]] NPCs Ratios|}}
|-
! width="8%" | {{Translate|NPCs|Properties}}
! width="5%" | {{Translate|Sacks of Grain|Properties}}
! width="5%" | {{Translate|Crates of Charcoal|Properties}}
! width="5%" | {{Translate|Sacks of Salt|Properties}}
! width="5%" | {{Translate|Shipment of Timber|Properties}}
! width="5%" | {{Translate|Barrel of Beer|Properties}}
! width="5%" | {{Translate|Crates of Wine|Properties}}
! width="5%" | {{Translate|Pails of Cider|Properties}}<!--
--- Loads the parameters from the NPC specified in the first parameter ---
-->{{#vardefine:NPC|{{{1}}}}}<!-- Defines NPC
-->{{#vardefine:NPCData|{{:Friendly data|{{{1}}}|Ratios}}}}<!-- Fetches only the Ratios parameter for the specified NPC
-->{{#vardefine:RatiosList|{{#explode:{{#var:NPCData}}}}}}<!--
--- Store Ratio Values ---
-->{{#vardefine:Ratio00|{{#explode:{{#var:RatiosList}}|;|0}}}}<!--
-->{{#vardefine:Ratio01|{{#explode:{{#var:RatiosList}}|;|1}}}}<!--
-->{{#vardefine:Ratio02|{{#explode:{{#var:RatiosList}}|;|2}}}}<!--
-->{{#vardefine:Ratio03|{{#explode:{{#var:RatiosList}}|;|3}}}}<!--
-->{{#vardefine:Ratio04|{{#explode:{{#var:RatiosList}}|;|4}}}}<!--
-->{{#vardefine:Ratio05|{{#explode:{{#var:RatiosList}}|;|5}}}}<!--
-->{{#vardefine:Ratio06|{{#explode:{{#var:RatiosList}}|;|6}}}}
|-
<!-- Display NPC Icon -->
| {{#if:{{#var:NPC}}|[[File:{{#var:NPC}}.png|64px]]|No image found for [[{{#var:NPC}}]].}}<br>'''[[{{#var:NPC}}]]'''
<!--- Second to Last columns: Ratios List -->
| '''{{#if:{{#var:Ratio00}}|<!-- Check if Ratio01 is defined and not empty ---
    -->{{#vardefine:Ratio00Diff|{{#ifexpr:{{#var:Ratio00}} < 1.15 | 2.0 - {{#var:Ratio00}} | {{#var:Ratio00}} - 1.0}}}}<!--
    -->{{c|{{#ifexpr:{{#var:Ratio00}} > 1.25 | + |{{#ifexpr:{{#var:Ratio00}} < 1.1 | - | Orange}}}}<!--
-->|{{#var:Ratio00}}}}|-}}'''<!-- Display the value of Ratio00 with color template-->
| '''{{#if:{{#var:Ratio01}}|<!-- Check if Ratio01 is defined and not empty ---
    -->{{#vardefine:Ratio01Diff|{{#ifexpr:{{#var:Ratio01}} < 1.15 | 2.0 - {{#var:Ratio01}} | {{#var:Ratio01}} - 1.0}}}}<!--
    -->{{c|{{#ifexpr:{{#var:Ratio01}} > 1.25 | + |{{#ifexpr:{{#var:Ratio01}} < 1.1 | - | Orange}}}}<!--
-->|{{#var:Ratio01}}}}|-}}'''
| '''{{#if:{{#var:Ratio02}}|<!--
    -->{{#vardefine:Ratio02Diff|{{#ifexpr:{{#var:Ratio02}} < 1.15 | 2.0 - {{#var:Ratio02}} | {{#var:Ratio02}} - 1.0}}}}<!--
    -->{{c|{{#ifexpr:{{#var:Ratio02}} > 1.25 | + |{{#ifexpr:{{#var:Ratio02}} < 1.1 | - | Orange}}}}<!--
-->|{{#var:Ratio02}}}}|-}}'''
| '''{{#if:{{#var:Ratio03}}|<!--
    -->{{#vardefine:Ratio03Diff|{{#ifexpr:{{#var:Ratio03}} < 1.15 | 2.0 - {{#var:Ratio03}} | {{#var:Ratio03}} - 1.0}}}}<!--
    -->{{c|{{#ifexpr:{{#var:Ratio03}} > 1.25 | + |{{#ifexpr:{{#var:Ratio03}} < 1.1 | - | Orange}}}}<!--
-->|{{#var:Ratio03}}}}|-}}'''
| '''{{#if:{{#var:Ratio04}}|<!--
    -->{{#vardefine:Ratio04Diff|{{#ifexpr:{{#var:Ratio04}} < 1.15 | 2.0 - {{#var:Ratio04}} | {{#var:Ratio04}} - 1.0}}}}<!--
    -->{{c|{{#ifexpr:{{#var:Ratio04}} > 1.25 | + |{{#ifexpr:{{#var:Ratio04}} < 1.1 | - | Orange}}}}<!--
-->|{{#var:Ratio04}}}}|-}}'''
| '''{{#if:{{#var:Ratio05}}|<!--
    -->{{#vardefine:Ratio05Diff|{{#ifexpr:{{#var:Ratio05}} < 1.15 | 2.0 - {{#var:Ratio05}} | {{#var:Ratio05}} - 1.0}}}}<!--
    -->{{c|{{#ifexpr:{{#var:Ratio05}} > 1.25 | + |{{#ifexpr:{{#var:Ratio05}} < 1.1 | - | Orange}}}}<!--
-->|{{#var:Ratio05}}}}|-}}'''
| '''{{#if:{{#var:Ratio06}}|<!--
    -->{{#vardefine:Ratio06Diff|{{#ifexpr:{{#var:Ratio06}} < 1.15 | 2.0 - {{#var:Ratio06}} | {{#var:Ratio06}} - 1.0}}}}<!--
    -->{{c|{{#ifexpr:{{#var:Ratio06}} > 1.25 | + |{{#ifexpr:{{#var:Ratio06}} < 1.1 | - | Orange}}}}<!--
-->|{{#var:Ratio06}}}}|-}}'''<!--
--></includeonly><noinclude>
{{doc|Template:CommoditiesRatioTable}}
[[Category:Templates]]
</noinclude>